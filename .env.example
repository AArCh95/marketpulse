# ============================================
# MarketPulse Environment Configuration
# Copy to .env and fill in your credentials
# ============================================

# --- Project Paths ---
# Use absolute paths or set PROJECT_ROOT
PROJECT_ROOT=D:\AARCH
DBS_DIR=${PROJECT_ROOT}\DBs
MODELS_DIR=${PROJECT_ROOT}\models

# --- Database Paths ---
MARKET_DB=${DBS_DIR}\market.duckdb
TRADER_DB=${DBS_DIR}\trader.duckdb
SIGNALS_DB=${DBS_DIR}\signals.duckdb
DB_SNAPSHOT_DIR=${DBS_DIR}
TRADER_SNAPSHOT_DIR=${DBS_DIR}\snapshots

# Snapshot pointers (auto-generated, but needed for reference)
DB_SNAPSHOT_POINTER=${DBS_DIR}\CURRENT_SNAPSHOT.txt
TRADER_SNAPSHOT_POINTER=${DBS_DIR}\CURRENT_SNAPSHOT_TRADER.txt

# --- API Keys (Internal Services) ---
# Generate secure tokens: python -c "import secrets; print(secrets.token_urlsafe(24))"
TRADER_WEBHOOK_TOKEN=your-secure-webhook-token-here
CATBOOST_API_KEY=your-catboost-api-key
SENTIMENT_API_KEY=your-sentiment-api-key

# --- External API Keys ---
# CRITICAL: Rotate ALL keys before public release!

# Alpaca Trading API (https://alpaca.markets)
APCA_API_KEY_ID=your-new-alpaca-key-id
APCA_API_SECRET_KEY=your-new-alpaca-secret-key
ALPACA_PAPER=true

# Finnhub API (https://finnhub.io) - STORE IN N8N CREDENTIALS
# Do NOT hardcode in workflow JSON!
# FINNHUB_TOKEN=your-finnhub-token

# Polygon.io API (https://polygon.io) - STORE IN N8N CREDENTIALS
# POLYGON_API_KEY=your-polygon-api-key

# --- Service Ports ---
CATBOOST_CORE_PORT=8500
CATBOOST_INTRADAY_PORT=8001
SENTIMENT_API_PORT=8090
TRADER_API_PORT=8600

# --- Ollama Configuration ---
OLLAMA_MODEL=llama3.2
OLLAMA_HOST=http://localhost:11434
RELEVANCE_THRESHOLD=0.6

# --- Trading Risk Parameters ---
TP_PCT=0.03
SL_PCT=0.02
ALLOW_SHORTS=false
EXIT_ON_SHORT=true
MAX_WEIGHT_PCT=0.004
DAILY_SPEND_CAP=0.10

# --- Pacing & Cooldowns ---
DAILY_SPEND_TZ=America/New_York
MAX_NAMES_PER_BATCH=25
ORDER_THROTTLE_MS=150
PER_SYMBOL_COOLDOWN_MIN=5
STALE_SEC_MAX=21600
SELL_BAN_MIN=15

# --- Snapshot Management ---
TRADER_SNAPSHOT_KEEP=12
TRADER_SNAPSHOT_INTERVAL_SEC=90
TRADER_SNAPSHOT_ON_INGEST=true

# --- Intraday Enrichment (CatBoost Core) ---
INTRADAY_ENRICH=1
INTRADAY_MINUTES=30
INTRADAY_OVERWRITE=0

# --- CORS Configuration ---
CORS_ALLOW_ORIGINS=http://localhost:5678,http://127.0.0.1:5678

# --- API Versions ---
API_VERSION=1.0.0
